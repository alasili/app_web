{"version":3,"sources":["webpack:///src/app/grid/grid.component.html","webpack:///src/app/grid/grid-routing.module.ts","webpack:///src/app/grid/grid.component.scss","webpack:///src/app/grid/grid.component.ts","webpack:///src/app/grid/grid.module.ts"],"names":["routes","path","component","GridRoutingModule","imports","forChild","exports","GridComponent","http","router","toast","host","list","segmentValue","segmentValue2","coverUrl","data2","data","page","limit","initStatus","slideConfig","initialSlide","getTabs","params","url","get","subscribe","res","code","id","pic","son","length","scode","setTimeout","getData","refresher","complete","infiniteScroll","concat","rowtotal","showToast","disabled","event","detail","value","index","findIndex","el","slides","slideTo","getActiveIndex","then","navigate","queryParams","selector","template","GridModule","declarations"],"mappings":"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","file":"grid-grid-module-es5.js","sourcesContent":["export default \"<ion-header translucent>\\n    <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" scrollable [(ngModel)]=\\\"segmentValue\\\">\\n        <ion-segment-button *ngFor=\\\"let item of data; let i = index;\\\" [value]=\\\"item.id\\\">\\n            <bee-icon [name]=\\\"item.ico\\\" size=\\\"24\\\" [color]=\\\"segmentValue === item.id ? 'primary' : ''\\\"></bee-icon>\\n        </ion-segment-button>\\n    </ion-segment>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh()\\\">\\n        <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n\\n    <ion-segment (ionChange)=\\\"segmentChanged2($event)\\\" scrollable [(ngModel)]=\\\"segmentValue2\\\">\\n        <ion-segment-button *ngFor=\\\"let item of data2; let i = index;\\\" [value]=\\\"item.scode\\\">\\n            <div class=\\\"bee-label\\\">{{item.name}}</div>\\n        </ion-segment-button>\\n    </ion-segment>\\n\\n    <ion-slides [options]=\\\"slideConfig\\\" (ionSlideDidChange)=\\\"slideChange()\\\" #slides>\\n        <ion-slide *ngFor=\\\"let item of data; let i = index;\\\">\\n            <bee-list [cover]=\\\"coverUrl\\\" [data]=\\\"list\\\" (onItemClick)=\\\"detailChange($event)\\\"></bee-list>\\n        </ion-slide>\\n    </ion-slides>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData()\\\">\\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\\n\";","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {GridComponent} from './grid.component';\n\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: GridComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class GridRoutingModule {\n}\n","export default \".bee-label {\\n  font-size: 12px;\\n  height: 100px;\\n  width: inherit;\\n  display: block;\\n  white-space: normal;\\n  -webkit-writing-mode: vertical-lr;\\n          writing-mode: vertical-lr;\\n  font-family: var(--bee-font-family) !important;\\n  font-weight: normal;\\n  font-style: normal;\\n  -webkit-text-orientation: sideways-right;\\n  padding: calc(var(--bee-padding) / 2) 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JpZC9EOlxccHJvamVjdFxcbXkgcHJvamVjdFxcY2FwYWNpdG9yIHByb2plY3RcXG11c2V1bS9zcmNcXGFwcFxcZ3JpZFxcZ3JpZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZ3JpZC9ncmlkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsaUNBQUE7VUFBQSx5QkFBQTtFQUNBLDhDQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHdDQUFBO0VBQ0EsdUNBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2dyaWQvZ3JpZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iZWUtbGFiZWwge1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiBpbmhlcml0O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xyXG4gICAgd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1scjtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1iZWUtZm9udC1mYW1pbHkpICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiBzaWRld2F5cy1yaWdodDtcclxuICAgIHBhZGRpbmc6IGNhbGModmFyKC0tYmVlLXBhZGRpbmcpIC8gMikgMDtcclxufVxyXG4iLCIuYmVlLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogaW5oZXJpdDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gIHdyaXRpbmctbW9kZTogdmVydGljYWwtbHI7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1iZWUtZm9udC1mYW1pbHkpICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiBzaWRld2F5cy1yaWdodDtcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1iZWUtcGFkZGluZykgLyAyKSAwO1xufSJdfQ== */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {HttpService} from '../service/http/http.service';\nimport Config from '../config';\nimport {UtilsService} from '../service/utils/utils.service';\nimport {IonInfiniteScroll, IonRefresher} from '@ionic/angular';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-grid',\n    templateUrl: './grid.component.html',\n    styleUrls: ['./grid.component.scss'],\n})\nexport class GridComponent implements OnInit {\n\n    @ViewChild(IonInfiniteScroll, {static: true}) infiniteScroll: IonInfiniteScroll;\n    @ViewChild(IonRefresher, {static: false}) refresher: IonRefresher;\n    @ViewChild('slides', {static: true}) slides;\n\n    host = Config.host;\n    list = [];\n    segmentValue = '';\n    segmentValue2 = null;\n    coverUrl = '';\n    data2 = [];\n    data = [];\n    page = 1;\n    limit = 10;\n    initStatus = true;\n    slideConfig = {\n        initialSlide: 0\n    };\n\n    constructor(private http: HttpService,\n                private router: Router,\n                private toast: UtilsService) {\n    }\n\n    ngOnInit() {\n        this.getTabs();\n    }\n\n    getTabs(): void {\n        const params = {\n            url: 'api.php/cms/nav',\n        };\n        this.http.get(params).subscribe(res => {\n            if (res.code === 1) {\n                this.data = res.data;\n                this.segmentValue = res.data[0].id;\n                this.coverUrl = res.data[0].pic;\n                this.data2 = res.data[0].son;\n                this.segmentValue2 = res.data[0].son.length ? res.data[0].son[0].scode : '';\n                setTimeout(() => {\n                    this.initStatus = false;\n                }, 500);\n\n                if (this.segmentValue2) {\n                    this.getData();\n                }\n            }\n        });\n    }\n\n    getData(): void {\n        const params = {\n            url: `api.php/list/${this.segmentValue2}/page/${this.page}/num/${this.limit}`,\n            data: {}\n        };\n        this.http.get(params).subscribe(res => {\n            this.refresher.complete();\n            this.infiniteScroll.complete();\n\n            if (res.code === 1) {\n                this.list = this.list.concat(res.data);\n                if (this.list.length === res.rowtotal) {\n                    this.toast.showToast('ᠲᠦᠷ ᠨᠠᠩ ᠣᠯᠠᠨ ᠲᠣᠭ᠎ᠠ ᠪᠠᠷᠢᠮᠲᠠ ᠪᠠᠶᠬᠤ ᠦᠭᠡᠢ', 'top');\n                    this.infiniteScroll.disabled = true;\n                } else {\n                    this.infiniteScroll.disabled = false;\n                }\n            } else {\n                this.toast.showToast('错误', 'top');\n            }\n        });\n    }\n\n    segmentChanged(event: any): void {\n        this.segmentValue = event.detail.value;\n        const index = this.data.findIndex(el => el.id === event.detail.value);\n        this.coverUrl = this.data[index].pic;\n        this.data2 = this.data[index].son;\n        this.segmentValue2 = this.data2.length ? this.data2[0].scode : '';\n        this.slides.slideTo(index, 400);\n    }\n\n    slideChange(): void {\n        this.slides.getActiveIndex().then(res => {\n            this.segmentValue = this.data[res].id;\n        });\n    }\n\n\n    segmentChanged2(event: any): void {\n        this.segmentValue2 = event.detail.value;\n        if (!this.initStatus) {\n            this.page = 1;\n            this.list = [];\n            if (this.segmentValue2) {\n                this.getData();\n            }\n            this.infiniteScroll.disabled = false;\n        }\n    }\n\n    doRefresh(): void {\n        this.page = 1;\n        this.list = [];\n        this.infiniteScroll.disabled = false;\n        if (this.segmentValue2) {\n            this.getData();\n        } else {\n            this.refresher.complete();\n        }\n    }\n\n    loadData(): void {\n        this.page += 1;\n        this.getData();\n    }\n\n    detailChange(event: any): void {\n        this.router.navigate(['/detail'], {queryParams: {id: event.id}});\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {GridRoutingModule} from './grid-routing.module';\nimport {GridComponent} from './grid.component';\nimport {IonicModule} from '@ionic/angular';\nimport {ComponentModule} from '../component/component.module';\nimport {FormsModule} from '@angular/forms';\n\n\n@NgModule({\n    declarations: [\n        GridComponent\n    ],\n    imports: [\n        CommonModule,\n        GridRoutingModule,\n        IonicModule,\n        ComponentModule,\n        FormsModule\n    ]\n})\nexport class GridModule {\n}\n"]}