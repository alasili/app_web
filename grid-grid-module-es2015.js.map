{"version":3,"sources":["./src/app/grid/grid.component.html","./src/app/grid/grid-routing.module.ts","./src/app/grid/grid.component.scss","./src/app/grid/grid.component.ts","./src/app/grid/grid.module.ts"],"names":[],"mappings":"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","file":"grid-grid-module-es2015.js","sourcesContent":["export default \"<ion-header translucent>\\n    <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" scrollable [(ngModel)]=\\\"segmentValue\\\">\\n        <ion-segment-button *ngFor=\\\"let item of data; let i = index;\\\" [value]=\\\"item.id\\\">\\n            <bee-icon [name]=\\\"item.ico\\\" size=\\\"24\\\" [color]=\\\"segmentValue === item.id ? 'primary' : ''\\\"></bee-icon>\\n        </ion-segment-button>\\n    </ion-segment>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh()\\\">\\n        <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n\\n    <ion-segment (ionChange)=\\\"segmentChanged2($event)\\\" scrollable [(ngModel)]=\\\"segmentValue2\\\">\\n        <ion-segment-button *ngFor=\\\"let item of data2; let i = index;\\\" [value]=\\\"item.scode\\\">\\n            <div class=\\\"bee-label\\\">{{item.name}}</div>\\n        </ion-segment-button>\\n    </ion-segment>\\n\\n    <ion-slides [options]=\\\"slideConfig\\\" (ionSlideDidChange)=\\\"slideChange()\\\" #slides>\\n        <ion-slide *ngFor=\\\"let item of data; let i = index;\\\">\\n            <bee-list [cover]=\\\"coverUrl\\\" [data]=\\\"list\\\" (onItemClick)=\\\"detailChange($event)\\\"></bee-list>\\n        </ion-slide>\\n    </ion-slides>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData()\\\">\\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\\n\";","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {GridComponent} from './grid.component';\n\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: GridComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class GridRoutingModule {\n}\n","export default \".bee-label {\\n  font-size: 12px;\\n  height: 100px;\\n  width: inherit;\\n  display: block;\\n  white-space: normal;\\n  -webkit-writing-mode: vertical-lr;\\n          writing-mode: vertical-lr;\\n  font-family: var(--bee-font-family) !important;\\n  font-weight: normal;\\n  font-style: normal;\\n  -webkit-text-orientation: sideways-right;\\n  padding: calc(var(--bee-padding) / 2) 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ3JpZC9EOlxccHJvamVjdFxcbXkgcHJvamVjdFxcY2FwYWNpdG9yIHByb2plY3RcXG11c2V1bS9zcmNcXGFwcFxcZ3JpZFxcZ3JpZC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZ3JpZC9ncmlkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsaUNBQUE7VUFBQSx5QkFBQTtFQUNBLDhDQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHdDQUFBO0VBQ0EsdUNBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2dyaWQvZ3JpZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iZWUtbGFiZWwge1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiBpbmhlcml0O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xyXG4gICAgd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1scjtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1iZWUtZm9udC1mYW1pbHkpICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiBzaWRld2F5cy1yaWdodDtcclxuICAgIHBhZGRpbmc6IGNhbGModmFyKC0tYmVlLXBhZGRpbmcpIC8gMikgMDtcclxufVxyXG4iLCIuYmVlLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogaW5oZXJpdDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gIHdyaXRpbmctbW9kZTogdmVydGljYWwtbHI7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1iZWUtZm9udC1mYW1pbHkpICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiBzaWRld2F5cy1yaWdodDtcbiAgcGFkZGluZzogY2FsYyh2YXIoLS1iZWUtcGFkZGluZykgLyAyKSAwO1xufSJdfQ== */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {HttpService} from '../service/http/http.service';\nimport Config from '../config';\nimport {UtilsService} from '../service/utils/utils.service';\nimport {IonInfiniteScroll, IonRefresher} from '@ionic/angular';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-grid',\n    templateUrl: './grid.component.html',\n    styleUrls: ['./grid.component.scss'],\n})\nexport class GridComponent implements OnInit {\n\n    @ViewChild(IonInfiniteScroll, {static: true}) infiniteScroll: IonInfiniteScroll;\n    @ViewChild(IonRefresher, {static: false}) refresher: IonRefresher;\n    @ViewChild('slides', {static: true}) slides;\n\n    host = Config.host;\n    list = [];\n    segmentValue = '';\n    segmentValue2 = null;\n    coverUrl = '';\n    data2 = [];\n    data = [];\n    page = 1;\n    limit = 10;\n    initStatus = true;\n    slideConfig = {\n        initialSlide: 0\n    };\n\n    constructor(private http: HttpService,\n                private router: Router,\n                private toast: UtilsService) {\n    }\n\n    ngOnInit() {\n        this.getTabs();\n    }\n\n    getTabs(): void {\n        const params = {\n            url: 'api.php/cms/nav',\n        };\n        this.http.get(params).subscribe(res => {\n            if (res.code === 1) {\n                this.data = res.data;\n                this.segmentValue = res.data[0].id;\n                this.coverUrl = res.data[0].pic;\n                this.data2 = res.data[0].son;\n                this.segmentValue2 = res.data[0].son.length ? res.data[0].son[0].scode : '';\n                setTimeout(() => {\n                    this.initStatus = false;\n                }, 500);\n\n                if (this.segmentValue2) {\n                    this.getData();\n                }\n            }\n        });\n    }\n\n    getData(): void {\n        const params = {\n            url: `api.php/list/${this.segmentValue2}/page/${this.page}/num/${this.limit}`,\n            data: {}\n        };\n        this.http.get(params).subscribe(res => {\n            this.refresher.complete();\n            this.infiniteScroll.complete();\n\n            if (res.code === 1) {\n                this.list = this.list.concat(res.data);\n                if (this.list.length === res.rowtotal) {\n                    this.toast.showToast('ᠲᠦᠷ ᠨᠠᠩ ᠣᠯᠠᠨ ᠲᠣᠭ᠎ᠠ ᠪᠠᠷᠢᠮᠲᠠ ᠪᠠᠶᠬᠤ ᠦᠭᠡᠢ', 'top');\n                    this.infiniteScroll.disabled = true;\n                } else {\n                    this.infiniteScroll.disabled = false;\n                }\n            } else {\n                this.toast.showToast('错误', 'top');\n            }\n        });\n    }\n\n    segmentChanged(event: any): void {\n        this.segmentValue = event.detail.value;\n        const index = this.data.findIndex(el => el.id === event.detail.value);\n        this.coverUrl = this.data[index].pic;\n        this.data2 = this.data[index].son;\n        this.segmentValue2 = this.data2.length ? this.data2[0].scode : '';\n        this.slides.slideTo(index, 400);\n    }\n\n    slideChange(): void {\n        this.slides.getActiveIndex().then(res => {\n            this.segmentValue = this.data[res].id;\n        });\n    }\n\n\n    segmentChanged2(event: any): void {\n        this.segmentValue2 = event.detail.value;\n        if (!this.initStatus) {\n            this.page = 1;\n            this.list = [];\n            if (this.segmentValue2) {\n                this.getData();\n            }\n            this.infiniteScroll.disabled = false;\n        }\n    }\n\n    doRefresh(): void {\n        this.page = 1;\n        this.list = [];\n        this.infiniteScroll.disabled = false;\n        if (this.segmentValue2) {\n            this.getData();\n        } else {\n            this.refresher.complete();\n        }\n    }\n\n    loadData(): void {\n        this.page += 1;\n        this.getData();\n    }\n\n    detailChange(event: any): void {\n        this.router.navigate(['/detail'], {queryParams: {id: event.id}});\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {GridRoutingModule} from './grid-routing.module';\nimport {GridComponent} from './grid.component';\nimport {IonicModule} from '@ionic/angular';\nimport {ComponentModule} from '../component/component.module';\nimport {FormsModule} from '@angular/forms';\n\n\n@NgModule({\n    declarations: [\n        GridComponent\n    ],\n    imports: [\n        CommonModule,\n        GridRoutingModule,\n        IonicModule,\n        ComponentModule,\n        FormsModule\n    ]\n})\nexport class GridModule {\n}\n"],"sourceRoot":"webpack:///"}